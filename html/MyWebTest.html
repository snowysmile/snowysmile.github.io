<!DOCTYPE html>
<html>

<head>
  <style>
  </style>
</head>

<body>
  <a href="https://www.fontawesomecheatsheet.com" target="_blank">Font Awesome</a><br>
  <a href="https://github.com/snowysmile/snowysmile.github.io/tree/master" target="_blank">Github Repo</a><br>
  <a href="https://api.github.com/repos/snowysmile/snowysmile.github.io" target="_blank">Github Repo Status</a><br>
  <a href="https://github.com/snowysmile/snowysmile.github.io/actions" target="_blank">Github Page Status</a><br>
  <br>

  <span id="push-time"></span><br>
  <script>
    async function displayPushTime() {
      try {
        const response = await fetch('https://api.github.com/repos/snowysmile/snowysmile.github.io');
        const data = await response.json();
        if (data.pushed_at) {
          const pushTime = new Date(data.pushed_at).toLocaleString();
          document.getElementById('push-time').innerHTML = `Lastest Push Time: ${pushTime}`;
        } else {
          document.getElementById('push-time').innerHTML = 'Lastest Push Time is not available';
        }
      } catch (error) {
        console.error('Error fetching push time:', error);
        document.getElementById('push-time').innerHTML = 'Error occurs when fetching Latest Push Time';
      }
    }
    displayPushTime();
  </script>

  <span id="latest-build"></span>
  <script>
    var accessToken = 'github_pat'
    + '_11AVWKB4Q0KMJ7eNwR5nK0'
    + '_qc33D0dimLwn9NkXWtK5YgDpf5Zkm3kNTQpgNVWgmcmOUO4L33FfUGYTmaJ';
    const apiUrl = `https://api.github.com/repos/snowysmile/snowysmile.github.io/pages/builds/latest`;
    fetch(apiUrl, {
        headers: {
            'Authorization': `Bearer ${accessToken}`
        }
    })
    .then(response => response.json())
    .then(data => {
        const latestBuild = data;
        const buildTimestamp = new Date(latestBuild.created_at).toLocaleString();
        const buildStatus = latestBuild.status;
        document.getElementById('latest-build').innerHTML = `
            Latest Build Time: ${buildTimestamp} <br>
            Latest Build Status: ${buildStatus} <br>
        `;
    })
    .catch(error => {
        console.log('Error occurs when retrieving Latest Build Time:', error);
    });
  </script>
</body>
</html>
